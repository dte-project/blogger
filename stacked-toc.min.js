/*! Accordion TOC for Blogger V2 <https://dte-project.github.io/blogger/stacked-toc.html> */
!function(e,t){window.q2o=function(e,t){function r(e){return decodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(function(e){return!(!i(e)||""===e.trim())&&('""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1))}(e))try{return JSON.parse(e)}catch(e){}}return e}var o={},s=e.replace(/^.*?\?/,"");return""===s?o:(s.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),s=r(i[0]),l=!n(i[1])||r(i[1]);l=!n(t)||t?a(l):l,"]"===s.slice(-1)?function(e,t,r){for(var n,i=t.split("["),a=0,o=i.length;o-1>a;++a)e=e[n=i[a].replace(/\]$/,"")]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}(o,s,l):o[s]=l}),o)}}(),function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function o(e){return null!==e&&"object"==typeof e}function s(e,t){for(var r in t=t||{},e)n(t[r])?o(e[r])&&o(t[r])&&(t[r]=s(e[r],t[r])):t[r]=e[r];return t}function l(e,t,r){e.addEventListener(t,r,!1)}function c(e,t){var r,i,a={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(r in a)if(n(e.style[r])){i=a[r];break}i?l(e,i,function(){t(e)}):t(e)}function d(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),o(i))for(var a in i)!1!==i[a]&&e.setAttribute(a,i[a]);return e}function u(e,t){var r;for(t=t.split(/\s+/);r=t.shift();)e.classList.add(r)}function f(e,t){var r;for(t=t.split(/\s+/);r=t.shift();)e.classList.remove(r)}function h(e,t){return e.classList.contains(t)}function p(e,t,r){t&&e.insertBefore(t,r)}var g=e.q2o,m=t.currentScript,y=e.location,v=e.localStorage,b={},x=[],$={},w=Date.now(),k={i:w,direction:"ltr",url:y.protocol+"//"+y.host,name:"stacked-toc",css:1,sort:1,ad:!0,toggle:!0,active:0,container:0,date:"%M~% %D%, %Y% %h%:%m% %N%",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",noon:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json",orderby:"published","max-results":9999,"start-index":1}},N=t.head,M=s(k,g(m.src));function T(e,t){var n,i=[];for(n in e)i.push(r(n)+"="+r(e[n]));return"?"+i.join(t||"&")}function C(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function S(e){return a(e)?("file:"===y.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":C(e)+"/feeds/posts/summary"}function H(e,t,r){var n=/\.css$/i.test(C(e)),i=d(n?"link":"script","",s(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t&&t(i))}:t&&l(i,"load",t),p(N,i,N.firstChild),i}var j,q=M.i,D=M.id||C(M.url),L=M.name,_=M.ad,E=M.text,I=M.e,O=d("div",'<h3 class="'+L+'-title">'+E.title+"</h3>",{class:L+" "+M.direction,id:L+":"+q}),A=d("p",E.loading,{class:L+"-loading"});function J(e,t,r){(r=r||[]).unshift(t),"function"==typeof I&&I.apply(e,r)}I=I&&e[I],!0===_&&(_=3);var R=g(y.search);function B(){m.id||(m.id=L+"-js"),u(m,L+"-js");var e=M.container,r=M.css;r&&!t.getElementById(L+"-css")&&H(i(r)?r:C(m.src,"css"),function(){J(this,"load.asset",[this.href])},{class:L+"-css",id:L+"-css"}),H(S(D)+T(s(M.query,{callback:"_"+w,"max-results":0})),function(){e?((e=t.querySelector(e))&&(e.innerHTML=""),p(e,O)):p(m.parentNode,O,m),f(O.parentNode,L+"-loading"),J(this,"load.asset",[this.src]);var r=M.active;a(r)&&(r=x[r]),b[r]&&b[r].click()})}n(R[q])&&(delete R[q].url,M=s(M,R[q])),e["_"+w]=function(t){t=t.feed||{};var n,o=M.sort,g=t.entry||[],m=t.category||[],y=(g.length,m.length);function v(){for(n in $)$[n].offsetHeight&&($[n].style.height=$[n].scrollHeight+"px")}function k(e){var t=this.parentNode.id.split(":")[1],i=this.title,a=O.parentNode,o=b[i].parentNode,l=$[i];if(-1===M.toggle)for(n in $)n!==i&&!$[n].offsetHeight&&($[n].style.height=0);else{for(n in b)n!==i&&f(b[n].parentNode,"active");for(n in $)n!==i&&(f($[n],"active"),$[n].style.height=0)}l.$||(u(o,"loading"),u(l,"loading"),u(a,L+"-loading"),p(O,A,l),H(S(D)+"/-/"+r(i)+T(s(M.query,{callback:"_"+(w+1)})),function(){var e;f(o,"loading"),f(l,"loading"),f(a,L+"-loading"),(e=A).parentNode&&e.parentNode.removeChild(e),l.style.height=l.scrollHeight+"px"},{class:L+"-js",id:L+"-js:"+t})),h(o,"active")?M.toggle&&(f(o,"active"),f(l,"active"),l.style.height=0):(u(o,"active"),u(l,"active"),l.style.height=l.scrollHeight+"px"),J(this,"click",[{},b,$]),J(O,"change",[{},o,l]),e.preventDefault()}a(o)?(o=+o,m=m.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===o&&(m=m.reverse())):i(o)&&(o=e[o],m=m.sort(o));var N,j,_,E=Object.values(M.hide);for(n=0;n<y;++n){var I=m[n].term;E.indexOf(I)>-1||(N=d("a",I,{href:C(M.url)+"/search/label/"+r(I),title:I}),j=d("h4","",{class:L+"-header "+L+"-header:"+n+" "+L+"-title",id:L+"-header:"+q+"."+n}),c(_=d("ol","",{class:L+"-panel "+L+"-panel:"+n,id:L+"-panel:"+q+"."+n,style:"overflow:hidden;"}),function(e){e.offsetHeight&&(e.style.height="")}),x.push(I),b[I]=N,l(N,"touchstart",v),l(N,"mousedown",v),l(N,"click",k),p(j,N),p(O,j),p(O,$[I]=_))}J(O,"load",[t,b,$])},e["_"+(w+1)]=function(t){t=t.feed||{};var n,o,c,g=M.sort,m=(c=(t.link.find(function(e){return"alternate"===e.rel})||{}).href||"",decodeURIComponent(c)).split("/").pop(),y=t.entry||[],x=y.length,k=$[m];for(x&&!h(k,"active")&&b[m].click(),n=0;n<x;++n){var N=n<M.recent?E.recent:"";y[n].$=!!N,y[n].title.$t+=N}a(g)?(g=+g,y=y.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===g&&(y=y.reverse())):i(g)&&(g=e[g],y=y.sort(g));var C=M.target,q=M.image,D=M.excerpt,I="has-title has-url";for(M.date&&(I+=" has-time"),q&&(I+=" has-image"),D&&(I+=" has-excerpt"),u(O,I),j=function(e){if(e){var t=e.published.$t,r=(e.link.find(function(e){return"alternate"===e.rel})||{}).href;if(str="",r){if(q){var n,i,o,s="media$thumbnail"in e;!0===q&&(q=80),a(q)?(n=i=q+"px",q="s"+q+"-c"):(o=/^s(\d+)(\-[cp])?$/.exec(q))?(n=o[1]+"px",i=o[2]?o[1]+"px":"auto"):(o=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(q))&&(n=o[1]+"px",i=o[2]+"px"),str+='<p class="'+L+"-image "+(s?"loading":"no-image")+'">',str+=s?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+q+"/")+'" style="display:block;width:'+n+";height:"+i+';">':'<span class="img" style="display:block;width:'+n+";height:"+i+';">',str+="</p>"}if(str+='<h5 class="'+L+'-title"><a href="'+r+'"'+(C?' target="'+C+'"':"")+">"+e.title.$t+"</a></h5>",M.date&&(str+='<p class="'+L+'-time"><time datetime="'+t+'">'+function(e,t){var r,n=e.split("T"),i=n[0].split("-"),a=n[1].split("+")[0].split(":"),o=+a[0],s=o%12||12,l={"M~":E.months[+i[1]-1],"D~":E.days[new Date(e).getDay()],"h~":o+"",Y:i[0],M:i[1],D:i[2],h:s+"",m:a[1],s:Math.floor(+a[2])+"",N:E.noon[s<12||24===s?0:1]};for(r in l)t=t.replace(/\\%/g,"&#37;").replace(new RegExp("%"+r+"%","g"),l[r]);return t}(t,M.date)+"</time></p>"),D){var l=e.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").trim(),c=l.length;!0===D&&(D=200),str+='<p class="'+L+"-excerpt"+(c?"":" no-excerpt")+'">'+l.slice(0,D)+(c>D?"&hellip;":"")+"</p>"}return d("li",str,{class:!!e.$&&"recent"})}}},n=0;n<x;++n)p(k,j(y[n]));if(q){var A=k.getElementsByTagName("img"),R=function(){u(this.parentNode,"error"),J(this,"error.asset",[this.src])},B=function(){f(this.parentNode,"loading"),J(this,"load.asset",[this.src])};for(n=0,o=A.length;n<o;++n)l(A[n],"error",R),l(A[n],"load",B)}(function(){if(!1!==_){var e=+(v.getItem(L)||-1);if(e>_)return v.setItem(L,0),!0;v.setItem(L,++e)}return!1})()&&H(S("298900102869691923")+T(s(M.query,{callback:"_"+w+"_","max-results":21,orderby:"updated"}))+"&q="+r(m.toLowerCase())),$[m].$=!0,J($[m],"load",[{},b,$])},e["_"+w+"_"]=function(e){var t=(e=e.feed||{}).entry||[];t=t[Math.floor(Math.random()*t.length)],(t=j(t))&&(u(t,"ad"),p(ol,t,ol.firstChild),h(ol,"active")&&(ol.style.height=ol.scrollHeight+"px")),J(t,"load.ad",[e,b,$])},a(M.load)?e.setTimeout(B,+M.load):!0===M.load?l(e,"load",B):B(),J(O,"ready",[M,b,$])}(window,document);